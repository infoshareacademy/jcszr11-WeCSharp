@model Schedulist.App.ViewModels.Admin.AdminViewModel

<script>
    var userDeletedMessage = localStorage.getItem('userDeletedMessage');

    if (userDeletedMessage) {
        toastr.success(userDeletedMessage);
        localStorage.removeItem('userDeletedMessage');
    }
</script>

<div class="manageUsers-container">
    <h2 style="display: flex; justify-content: flex-start;">Users Management Section</h2>
    <table id="table">
        <thead>
            <tr>
                <th class="text-indicator">Id</th>
                <th class="text-indicator">Name</th>
                <th class="text-indicator">Surname</th>
                <th class="text-indicator">Email</th>
                <th class="text-indicator">Roles</th>
                <th class="text-indicator"></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model.Users)
            {
                <tr>
                    <td>
                        <span class="pointer">@user.Id</span>
                    </td>
                    <td>
                        <span class="pointer">@user.Name</span>
                    </td>
                    <td>
                        <span class="pointer">@user.Surname</span>
                    </td>
                    <td>
                        <span class="pointer">@Html.DisplayFor(_ => user.Email)</span>
                    </td>
                    <td>
                        <span class="pointer">@user.Roles</span>
                    </td>
                    <td>
                        <form asp-action="AddToAdministrator" asp-route-userId="@user.Id" method="post">
                            <button class="adminButtom" type="submit">Add To Administrator</button>
                        </form>
                    </td>
                    <td>
                        <form asp-action="AddToStandardRole" asp-route-userId="@user.Id" method="post">
                            <button class="adminButtom" type="submit">Add To Standard Role</button>
                        </form>
                    </td>
@*                     <td>
                        <form asp-action="DeleteUser" asp-route-userId="@user.Id">
                            <button class="adminButtom" type="submit">Delete User</button>
                        </form>
                    </td> *@
                    <td>
                        <button type="button" class="adminButtom" onclick="DeleteUser('@Url.Action("Delete", "Admin")?id=@user.Id','@user.Name','@user.Surname',
                        '@user.Email','@user.Roles')">
                            Delete
                        </button>
                    </td>
                    <td>
                        <form asp-action="UserUpdate" asp-route-userId="@user.Id" method="get">
                            <button class="adminButtom" type="submit">Modify User</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<hr class="horizontal-line" style="height: 3px; border: 1px solid gray; margin: 10px">
